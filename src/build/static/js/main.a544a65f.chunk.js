(this["webpackJsonpwatson-studio-e-learning-portal"]=this["webpackJsonpwatson-studio-e-learning-portal"]||[]).push([[0],{56:function(e,t,n){},57:function(e,t,n){},83:function(e){e.exports=JSON.parse('[{"id":1,"email":"test1@ibm.com","password":"samplePass","name":"Test 1"},{"id":2,"email":"test2@ibm.com","password":"samplePass","name":"Test 2"}]')},84:function(e,t){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n(0),s=n.n(i),c=n(46),o=n.n(c),l=(n(56),n.p,n(57),n(24)),r=n(7),d=n(11),h=n(17),j=n(18),b=n(22),u=n(21),p=n(90),g=n(91),m=n(94),x=n(32),O=n.n(x),v=n(47),f=n(89),w=n(101),y=n(99),k=n(102),C=n(19),I=n.n(C),S=n(33),P=n.p+"static/media/background3.be64489a.jpg",_=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).onChange=function(){var t=Object(v.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),e.setState({loading:!0,selected:n.selectedItem.text,selectedItem:n.selectedItem}),t.next=4,I.a.get("https://api.video.ibm.com/channels/".concat(n.selectedItem.id,"/playlists.json"),{headers:e.state.headers}).then((function(t){console.log(t);var n=Object.values(t.data.playlists).map((function(e){return{id:e.id,text:e.title}}));console.log("playlists",n),e.setState({playlists:n})})).catch((function(t){console.log("nopr",t),console.log(e.state.playlists)}));case 4:return t.next=6,I.a.get("https://api.video.ibm.com/channels/".concat(n.selectedItem.id,"/videos.json"),{headers:e.state.headers}).then((function(e){console.log(e)}));case 6:e.setState({loading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showPlaylists=function(){return e.state.playlists.map((function(e){return Object(a.jsxs)(f.a,{label:e.text,children:[Object(a.jsx)(S.BrowserView,{children:Object(a.jsx)("div",{className:"some-content",children:Object(a.jsx)("iframe",{src:"https://video.ibm.com/combined-embed/playlist/".concat(e.id),style:{border:"0",padding:"0",backgroundColor:"white"},webkitallowfullscreen:!0,allowFullScreen:!0,frameBorder:"no",width:"1040",height:"405",referrerPolicy:"no-referrer-when-downgrade"})})}),Object(a.jsx)(S.MobileView,{children:Object(a.jsx)("div",{className:"some-content",style:{paddingTop:"56.25%",position:"relative",overflow:"hidden",display:"block",height:"auto",width:"100%"},children:Object(a.jsx)("iframe",{src:"https://video.ibm.com/combined-embed/playlist/".concat(e.id),style:{border:"0",padding:"0",backgroundColor:"white",position:"relative"},webkitallowfullscreen:!0,allowFullScreen:!0,frameBorder:"no",width:"100%",height:"auto",referrerPolicy:"no-referrer-when-downgrade"})})})]})}))},e.state={selected:"Select Channel",channelList:[],loading:!0,code:"",playlists:[]},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.location.state){var t=this.props.location.state.access_token?this.props.location.state.access_token:"";if(0!==Object.keys(t).length){this.setState({code:t});var n={Authorization:"Bearer "+t,"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"};I.a.get("https://api.video.ibm.com/users/self/channels.json",{headers:n}).then((function(t){e.setState({loading:!1,channelsData:t.data.channels,headers:n});var a=Object.values(t.data.channels).map((function(e){return{id:e.id,text:e.title}}));e.setState({channelList:a})}))}else console.log("nope")}else alert("Please Login to continue"),this.props.history.push({pathname:"/login",state:{reload:!0}})}},{key:"render",value:function(){return Object(a.jsx)(p.a,{fluid:!0,style:{display:"flex",clear:"both",justifyContent:"center",minHeight:"100vh",overflow:"scroll",padding:"1rem",backgroundImage:"url(".concat(P,")"),backgroundSize:"cover",alignItems:"center"},children:Object(a.jsx)(g.a,{className:"justify-content-md-center",children:this.state.loading?Object(a.jsx)(w.a,{style:{align:"center"},description:"Active loading indicator",withOverlay:!1}):Object(a.jsxs)("div",{className:"bx--grid bx--grid--full-width landing-page",children:[Object(a.jsx)("div",{className:"bx--row landing-page__banner",children:Object(a.jsx)("h1",{style:{color:"white"},children:Object(a.jsx)("strong",{children:"E-Learning Portal using Watson Media"})})}),Object(a.jsx)("div",{className:"bx--row landing-page__r2",children:Object(a.jsx)("div",{className:"bx--col bx--no-gutter",children:Object(a.jsx)("div",{className:"bx--grid bx--grid--no-gutter bx--grid--full-width",style:{},children:Object(a.jsx)("div",{className:"bx--row landing-page__tab-content",children:Object(a.jsxs)("div",{className:"bx--col-md-4 bx--col-lg-7",children:[Object(a.jsx)("div",{style:{maxWidth:400},children:Object(a.jsx)(y.a,{id:"default",titleText:"Channel List",label:this.state.selected,items:this.state.channelList,itemToString:function(e){return e?e.text:""},onChange:this.onChange})}),Object(a.jsx)("br",{})]})})})})}),Object(a.jsx)("div",{className:"bx--row landing-page__r3",children:Object(a.jsx)("div",{className:"bx--col-md-4 bx--col-lg-8",children:"Select Channel"===this.state.selected?Object(a.jsx)("p",{}):Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"tabs-story-wrapper",children:Object(a.jsxs)(k.a,{backgroundColor:"white",style:{paddingLeft:"2rem"},type:"container",children:[Object(a.jsx)(f.a,{label:"Videos",children:Object(a.jsx)("div",{children:Object(a.jsx)("iframe",{src:"https://video.ibm.com/combined-embed/".concat(this.state.selectedItem.id,"/?social=0&videos=tab"),style:{border:"0",padding:"0",backgroundColor:"white"},webkitallowfullscreen:!0,allowFullScreen:!0,frameBorder:"no",width:"1040",height:"405",referrerPolicy:"no-referrer-when-downgrade"})})}),0===this.state.playlists.length?Object(a.jsx)("div",{}):Object(a.jsx)(f.a,{label:"Playlists",style:{color:"white"},children:Object(a.jsx)(k.a,{backgroundColor:"white",style:{paddingLeft:"1rem"},type:"container",children:this.showPlaylists()})})]})})})})})]})})})}}]),n}(s.a.Component),N=Object(r.f)(_),T=n(95),A=n(100),L=n(103),E=n(83),B=n(19),z=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.name,i=n.value;e.setState(Object(d.a)({},a,i))},e.handleClick=function(t){if(t.preventDefault(),""!==e.state.email&&""!==e.state.password){if(!e.state.auth)return console.log("Toast"),void alert("Please contact Admin to authorize the page");var n=!1,a={};if(E.map((function(t){t.email===e.state.email&&t.password===e.state.password&&(n=!0,a=t)})),n){var i=e.state.access_token;e.props.history.push({pathname:"/dashboard",state:{user:a,access_token:i}}),console.log(n,a)}else alert("Invalid Email or Password")}else alert("Please enter email and password")},e.state={email:"",password:"",loading:!0,auth:!1},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;B.get("http://".concat(window.location.hostname,":").concat(window.location.port,"/showToken")).then((function(t){console.log(t.data);var n=t.data.access_token;"expired"!==n&&40===n.length?e.setState({auth:!0,loading:!1,access_token:n}):(alert("Contact Admin to authorize page"),e.props.history.push("/admin"))})).catch((function(t){alert("Contact Admin to authorize page"),console.log(t),e.props.history.push("/admin")}))}},{key:"render",value:function(){var e;return Object(a.jsx)(p.a,{fluid:!0,style:(e={display:"flex",overflow:"auto",clear:"both",justifyContent:"center",minHeight:"100vh"},Object(d.a)(e,"overflow","scroll"),Object(d.a)(e,"backgroundImage","url(".concat(P,")")),Object(d.a)(e,"backgroundSize","cover"),Object(d.a)(e,"width","100%"),Object(d.a)(e,"padding","1rem"),Object(d.a)(e,"alignItems","center"),e),children:Object(a.jsx)(g.a,{children:this.state.loading?Object(a.jsx)(w.a,{style:{align:"center"},description:"Active loading indicator",withOverlay:!1}):Object(a.jsxs)(m.a,{md:12,children:[Object(a.jsx)("div",{children:Object(a.jsx)("h1",{style:{color:"white"},children:Object(a.jsxs)("strong",{children:["E-Learning Portal using",Object(a.jsx)("br",{})," Watson Media"]})})}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{style:{alignItems:"center"},children:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(A.a,{id:"test2",invalidText:"A valid value is required",placeholder:"Email",style:{marginBottom:"0.5em"},type:"email",name:"email",value:this.state.email,onChange:this.handleChange,invalid:!1}),Object(a.jsx)(A.a.PasswordInput,{hidePasswordLabel:"Hide password",id:"test",invalidText:"A valid value is required",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(a.jsx)(L.a,{style:{marginTop:"1em"},kind:"primary",tabIndex:0,type:"submit",onClick:this.handleClick,children:"Login"})]})})]})})})}}]),n}(s.a.Component),D=Object(r.f)(z),M=(n(84),n(19)),F=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.name,i=n.value;e.setState(Object(d.a)({},a,i))},e.handleClick=function(t){t.preventDefault();var n={clientId:e.state.clientId};M.post("http://".concat(window.location.hostname,":").concat(window.location.port,"/setClientId"),n).then((function(t){console.log(t),window.location.href="https://authentication.video.ibm.com/authorize?client_id=".concat(e.state.clientId,"&response_type=token&redirect_uri=http://").concat(window.location.hostname,":").concat(window.location.port,"/get_token")}))},e.state={email:"",password:"",loading:!1,clientId:""},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;M.get("http://".concat(window.location.hostname,":").concat(window.location.port,"/getClientId")).then((function(t){console.log(t.data);var n=t.data;"Enter Client ID"!==n&&40===n.length&&e.setState({loading:!1,clientId:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e;return Object(a.jsx)(p.a,{fluid:!0,style:(e={display:"flex",overflow:"auto",clear:"both",justifyContent:"center",minHeight:"100vh"},Object(d.a)(e,"overflow","scroll"),Object(d.a)(e,"backgroundImage","url(".concat(P,")")),Object(d.a)(e,"backgroundSize","cover"),Object(d.a)(e,"alignItems","center"),e),children:Object(a.jsxs)(g.a,{className:"justify-content-md-center",children:[Object(a.jsx)(m.a,{md:12,children:Object(a.jsx)("div",{className:"bx--row landing-page__banner",children:Object(a.jsx)("h1",{style:{color:"white"},children:Object(a.jsxs)("strong",{children:["E-Learning Portal using",Object(a.jsx)("br",{})," Watson Media"]})})})}),Object(a.jsxs)(m.a,{children:[Object(a.jsx)("h5",{style:{color:"white"},children:"Welcome Admin,"}),Object(a.jsx)("br",{})]}),Object(a.jsx)(m.a,{xs:!0,md:4,children:Object(a.jsx)("div",{children:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(A.a,{id:"test2",invalidText:"A valid value is required",placeholder:"Enter Client ID",style:{marginBottom:"0.5em"},type:"text",name:"clientId",value:this.state.clientId,onChange:this.handleChange,invalid:!1}),Object(a.jsx)(L.a,{disabled:40!==this.state.clientId.length,style:{marginTop:"0.5em"},kind:"primary",tabIndex:0,type:"submit",onClick:this.handleClick,children:"Authorize Access to Videos"})]})})})]})})}}]),n}(s.a.Component),W=Object(r.f)(F),H=(n(85),n(96)),V=n(97),q=n(98),J=n(104),G=n(105),K=function(){return Object(a.jsx)(H.a,{render:function(e){var t=e.isSideNavExpanded,n=e.onClickSideNavExpand;return Object(a.jsxs)(V.a,{"aria-label":"Carbon Tutorial",children:[Object(a.jsx)(q.a,{}),Object(a.jsx)(J.a,{"aria-label":"Open menu",onClick:n,isActive:t}),Object(a.jsx)(G.a,{href:"/",prefix:"IBM",children:"E-Learning Portal"})]})}})};var Q=function(){return Object(a.jsx)(l.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(K,{}),Object(a.jsxs)(r.c,{children:[Object(a.jsxs)(r.a,{path:"/dashboard",children:[" ",Object(a.jsx)(N,{})," "]}),Object(a.jsxs)(r.a,{path:"/admin",children:[" ",Object(a.jsx)(W,{})," "]}),Object(a.jsxs)(r.a,{path:"/login",children:[" ",Object(a.jsx)(D,{})," "]}),Object(a.jsxs)(r.a,{path:"/",children:[" ",Object(a.jsx)(D,{})," "]})]})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Q,{})}),document.getElementById("root")),R()}},[[86,1,2]]]);
//# sourceMappingURL=main.a544a65f.chunk.js.map