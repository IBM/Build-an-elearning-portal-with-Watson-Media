(this["webpackJsonpwatson-studio-e-learning-portal"]=this["webpackJsonpwatson-studio-e-learning-portal"]||[]).push([[0],{56:function(e,t,a){},57:function(e,t,a){},83:function(e){e.exports=JSON.parse('[{"id":1,"email":"test1@ibm.com","password":"samplePass","name":"Test 1"},{"id":2,"email":"test2@ibm.com","password":"samplePass","name":"Test 2"}]')},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(0),c=a.n(i),s=a(46),o=a.n(s),l=(a(56),a.p,a(57),a(23)),r=a(7),d=a(11),h=a(17),j=a(18),b=a(21),u=a(20),p=a(89),g=a(90),m=a(93),x=a(32),O=a.n(x),v=a(47),f=a(88),w=a(102),y=a(98),k=a(100),C=a(24),I=a.n(C),S=a(33),P=a.p+"static/media/background3.ea083d29.jpg",_=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).onChange=function(){var t=Object(v.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),e.setState({loading:!0,selected:a.selectedItem.text,selectedItem:a.selectedItem}),t.next=4,I.a.get("http://".concat(window.location.hostname,":").concat(window.location.port,"/fetchPlaylists/?id=").concat(a.selectedItem.id)).then((function(t){console.log(Object.keys(t.data)),console.log(t.data[0]);var a=Object.values(t.data.playlists).map((function(e){return{id:e.id,text:e.title}}));console.log("playlists",a),e.setState({playlists:a})})).catch((function(t){console.log("nopr",t),console.log(e.state.playlists)}));case 4:e.setState({loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showPlaylists=function(){return e.state.playlists.map((function(e){return Object(n.jsxs)(f.a,{label:e.text,children:[Object(n.jsx)(S.BrowserView,{children:Object(n.jsx)("div",{className:"some-content",children:Object(n.jsx)("iframe",{src:"https://video.ibm.com/combined-embed/playlist/".concat(e.id),style:{border:"0",padding:"0",backgroundColor:"white"},webkitallowfullscreen:!0,allowFullScreen:!0,frameBorder:"no",width:"1040",height:"405",referrerPolicy:"no-referrer-when-downgrade"})})}),Object(n.jsx)(S.MobileView,{children:Object(n.jsx)("div",{className:"some-content",style:{paddingTop:"56.25%",position:"relative",overflow:"hidden",display:"block",height:"auto",width:"100%"},children:Object(n.jsx)("iframe",{src:"https://video.ibm.com/combined-embed/playlist/".concat(e.id),style:{border:"0",padding:"0",backgroundColor:"white",position:"relative"},webkitallowfullscreen:!0,allowFullScreen:!0,frameBorder:"no",width:"100%",height:"auto",referrerPolicy:"no-referrer-when-downgrade"})})})]})}))},e.state={selected:"Select Channel",channelList:[],loading:!0,code:"",playlists:[]},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.location.state){var t=this.props.location.state.access_token?this.props.location.state.access_token:"";if(0!==Object.keys(t).length){this.setState({code:t});var a={Authorization:"Bearer "+t,"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"};I.a.get("https://api.video.ibm.com/users/self/channels.json",{headers:a}).then((function(t){e.setState({loading:!1,channelsData:t.data.channels,headers:a});var n=Object.values(t.data.channels).map((function(e){return{id:e.id,text:e.title}}));e.setState({channelList:n})}))}else console.log("nope")}else alert("Please Login to continue"),this.props.history.push({pathname:"/login",state:{reload:!0}})}},{key:"render",value:function(){return Object(n.jsx)(p.a,{fluid:!0,style:{display:"flex",clear:"both",justifyContent:"center",minHeight:"100vh",overflow:"scroll",padding:"1rem",backgroundImage:"url(".concat(P,")"),backgroundSize:"cover",alignItems:"center"},children:Object(n.jsx)(g.a,{className:"justify-content-md-center",children:this.state.loading?Object(n.jsx)(w.a,{style:{align:"center"},description:"Active loading indicator",withOverlay:!1}):Object(n.jsxs)("div",{className:"bx--grid bx--grid--full-width landing-page",children:[Object(n.jsx)("div",{className:"bx--row landing-page__banner",children:Object(n.jsx)("h1",{style:{color:"white"},children:Object(n.jsx)("strong",{children:"E-Learning Portal using Watson Media"})})}),Object(n.jsx)("div",{className:"bx--row landing-page__r2",children:Object(n.jsx)("div",{className:"bx--col bx--no-gutter",children:Object(n.jsx)("div",{className:"bx--grid bx--grid--no-gutter bx--grid--full-width",style:{},children:Object(n.jsx)("div",{className:"bx--row landing-page__tab-content",children:Object(n.jsxs)("div",{className:"bx--col-md-4 bx--col-lg-7",children:[Object(n.jsx)("div",{style:{maxWidth:400},children:Object(n.jsx)(y.a,{id:"default",titleText:"Channel List",label:this.state.selected,items:this.state.channelList,itemToString:function(e){return e?e.text:""},onChange:this.onChange})}),Object(n.jsx)("br",{})]})})})})}),Object(n.jsx)("div",{className:"bx--row landing-page__r3",children:Object(n.jsx)("div",{className:"bx--col-md-4 bx--col-lg-8",children:"Select Channel"===this.state.selected?Object(n.jsx)("p",{}):Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"tabs-story-wrapper",children:Object(n.jsxs)(k.a,{backgroundColor:"white",style:{paddingLeft:"2rem"},type:"container",children:[Object(n.jsx)(f.a,{label:"Videos",children:Object(n.jsx)("div",{children:Object(n.jsx)("iframe",{src:"https://video.ibm.com/combined-embed/".concat(this.state.selectedItem.id,"/?social=0&videos=tab"),style:{border:"0",padding:"0",backgroundColor:"white"},webkitallowfullscreen:!0,allowFullScreen:!0,frameBorder:"no",width:"1040",height:"405",referrerPolicy:"no-referrer-when-downgrade"})})}),0===this.state.playlists.length?Object(n.jsx)("div",{}):Object(n.jsx)(f.a,{label:"Playlists",style:{color:"white"},children:Object(n.jsx)(k.a,{backgroundColor:"white",style:{paddingLeft:"1rem"},type:"container",children:this.showPlaylists()})})]})})})})})]})})})}}]),a}(c.a.Component),N=Object(r.f)(_),T=a(94),A=a(99),L=a(104),E=a(83),B=a(24),z=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,i=a.value;e.setState(Object(d.a)({},n,i))},e.handleClick=function(t){if(t.preventDefault(),""!==e.state.email&&""!==e.state.password){if(!e.state.auth)return console.log("Toast"),void alert("Please contact Admin to authorize the page");var a=!1,n={};if(E.map((function(t){t.email===e.state.email&&t.password===e.state.password&&(a=!0,n=t)})),a){var i=e.state.access_token;e.props.history.push({pathname:"/dashboard",state:{user:n,access_token:i}}),console.log(a,n)}else alert("Invalid Email or Password")}else alert("Please enter email and password")},e.state={email:"",password:"",loading:!0,auth:!1},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;B.get("http://".concat(window.location.hostname,":").concat(window.location.port,"/showToken")).then((function(t){console.log(t.data);var a=t.data.access_token;"expired"!==a&&40===a.length?e.setState({auth:!0,loading:!1,access_token:a}):(alert("Contact Admin to authorize page"),e.props.history.push("/admin"))})).catch((function(t){alert("Contact Admin to authorize page"),console.log(t),e.props.history.push("/admin")}))}},{key:"render",value:function(){var e;return Object(n.jsx)(p.a,{fluid:!0,style:(e={display:"flex",overflow:"auto",clear:"both",justifyContent:"center",minHeight:"100vh"},Object(d.a)(e,"overflow","scroll"),Object(d.a)(e,"backgroundImage","url(".concat(P,")")),Object(d.a)(e,"backgroundSize","cover"),Object(d.a)(e,"width","100%"),Object(d.a)(e,"padding","1rem"),Object(d.a)(e,"alignItems","center"),e),children:Object(n.jsx)(g.a,{children:this.state.loading?Object(n.jsx)(w.a,{style:{align:"center"},description:"Active loading indicator",withOverlay:!1}):Object(n.jsxs)(m.a,{md:12,children:[Object(n.jsx)("div",{children:Object(n.jsx)("h1",{style:{color:"white"},children:Object(n.jsxs)("strong",{children:["E-Learning Portal using",Object(n.jsx)("br",{})," Watson Media"]})})}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{style:{alignItems:"center"},children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)(A.a,{id:"test2",invalidText:"A valid value is required",placeholder:"Email",style:{marginBottom:"0.5em"},type:"email",name:"email",value:this.state.email,onChange:this.handleChange,invalid:!1}),Object(n.jsx)(A.a.PasswordInput,{hidePasswordLabel:"Hide password",id:"test",invalidText:"A valid value is required",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(n.jsx)(L.a,{style:{marginTop:"1em"},kind:"primary",tabIndex:0,type:"submit",onClick:this.handleClick,children:"Login"})]})})]})})})}}]),a}(c.a.Component),D=Object(r.f)(z),M=a(24),F=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,i=a.value;e.setState(Object(d.a)({},n,i))},e.handleClick=function(t){t.preventDefault();var a={clientId:e.state.clientId};M.post("http://".concat(window.location.hostname,":").concat(window.location.port,"/setClientId"),a).then((function(t){console.log(t),window.location.href="https://authentication.video.ibm.com/authorize?client_id=".concat(e.state.clientId,"&response_type=token&redirect_uri=http://").concat(window.location.hostname,":").concat(window.location.port,"/get_token")}))},e.state={email:"",password:"",loading:!1,clientId:""},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;M.get("http://".concat(window.location.hostname,":").concat(window.location.port,"/getClientId")).then((function(t){console.log(t.data);var a=t.data;"Enter Client ID"!==a&&40===a.length&&e.setState({loading:!1,clientId:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e;return Object(n.jsx)(p.a,{fluid:!0,style:(e={display:"flex",overflow:"auto",clear:"both",justifyContent:"center",minHeight:"100vh"},Object(d.a)(e,"overflow","scroll"),Object(d.a)(e,"backgroundImage","url(".concat(P,")")),Object(d.a)(e,"backgroundSize","cover"),Object(d.a)(e,"alignItems","center"),e),children:Object(n.jsxs)(g.a,{className:"justify-content-md-center",children:[Object(n.jsx)(m.a,{md:12,children:Object(n.jsx)("div",{className:"bx--row landing-page__banner",children:Object(n.jsx)("h1",{style:{color:"white"},children:Object(n.jsxs)("strong",{children:["E-Learning Portal using",Object(n.jsx)("br",{})," Watson Media"]})})})}),Object(n.jsxs)(m.a,{children:[Object(n.jsx)("h5",{style:{color:"white"},children:"Welcome Admin,"}),Object(n.jsx)("br",{})]}),Object(n.jsx)(m.a,{xs:!0,md:4,children:Object(n.jsx)("div",{children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)(A.a,{id:"test2",invalidText:"A valid value is required",placeholder:"Enter Client ID",style:{marginBottom:"0.5em"},type:"text",name:"clientId",value:this.state.clientId,onChange:this.handleChange,invalid:!1}),Object(n.jsx)(L.a,{disabled:40!==this.state.clientId.length,style:{marginTop:"0.5em"},kind:"primary",tabIndex:0,type:"submit",onClick:this.handleClick,children:"Authorize Access to Videos"})]})})})]})})}}]),a}(c.a.Component),W=Object(r.f)(F),H=(a(84),a(95)),V=a(96),q=a(97),J=a(101),G=a(103),K=function(){return Object(n.jsx)(H.a,{render:function(e){var t=e.isSideNavExpanded,a=e.onClickSideNavExpand;return Object(n.jsxs)(V.a,{"aria-label":"Carbon Tutorial",children:[Object(n.jsx)(q.a,{}),Object(n.jsx)(J.a,{"aria-label":"Open menu",onClick:a,isActive:t}),Object(n.jsx)(G.a,{href:"/",prefix:"IBM",children:"E-Learning Portal"})]})}})};var Q=function(){return Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(K,{}),Object(n.jsxs)(r.c,{children:[Object(n.jsxs)(r.a,{path:"/dashboard",children:[" ",Object(n.jsx)(N,{})," "]}),Object(n.jsxs)(r.a,{path:"/admin",children:[" ",Object(n.jsx)(W,{})," "]}),Object(n.jsxs)(r.a,{path:"/login",children:[" ",Object(n.jsx)(D,{})," "]}),Object(n.jsxs)(r.a,{path:"/",children:[" ",Object(n.jsx)(D,{})," "]})]})]})})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,105)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),c(e),s(e)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Q,{})}),document.getElementById("root")),R()}},[[85,1,2]]]);
//# sourceMappingURL=main.1c6409c4.chunk.js.map