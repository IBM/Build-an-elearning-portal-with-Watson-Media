{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/src/content/Dashboard/Dashboard.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Dropdown, Loading, Tabs, Tab } from 'carbon-components-react';\nimport axios from 'axios';\nimport { Container, Row } from 'react-bootstrap';\nimport { BrowserView, MobileView } from \"react-device-detect\";\nimport back from './../../assets/background3.jpg';\n\nclass Dashboard extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = async e => {\n      console.log(e);\n      this.setState({\n        loading: true,\n        selected: e.selectedItem.text,\n        selectedItem: e.selectedItem\n      });\n      console.log(`http://localhost:8080/fetchVideos?id=${e.selectedItem.id}`);\n      awaxios.get(`http://localhost:8080/fetchVideos/?id=${e.selectedItem.id}`).then(res => {\n        console.log(res);\n        const arr = Object.values(res.data.playlists);\n        const items = arr.map(item => {\n          return {\n            id: item.id,\n            text: item.title\n          };\n        });\n        console.log(\"playlists\", items);\n        this.setState({\n          playlists: items\n        });\n      }).catch(err => {\n        console.log(\"nopr\", err);\n        console.log(this.state.playlists);\n      });\n      await axios.get(`https://api.video.ibm.com/channels/${e.selectedItem.id}/videos.json`, {\n        headers: this.state.headers\n      }).then(res => {\n        console.log(res);\n      });\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.showPlaylists = () => {\n      const arr = this.state.playlists.map(item => {\n        return /*#__PURE__*/_jsxDEV(Tab, {\n          label: item.text,\n          children: [/*#__PURE__*/_jsxDEV(BrowserView, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"some-content\",\n              children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n                src: `https://video.ibm.com/combined-embed/playlist/${item.id}`,\n                style: {\n                  border: \"0\",\n                  padding: \"0\",\n                  backgroundColor: \"white\"\n                },\n                webkitallowfullscreen: true,\n                allowFullScreen: true,\n                frameBorder: \"no\",\n                width: \"1040\",\n                height: \"405\",\n                referrerPolicy: \"no-referrer-when-downgrade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(MobileView, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"some-content\",\n              style: {\n                paddingTop: \"56.25%\",\n                position: \"relative\",\n                overflow: \"hidden\",\n                display: \"block\",\n                height: \"auto\",\n                width: \"100%\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n                src: `https://video.ibm.com/combined-embed/playlist/${item.id}`,\n                style: {\n                  border: \"0\",\n                  padding: \"0\",\n                  backgroundColor: \"white\",\n                  position: \"relative\"\n                },\n                webkitallowfullscreen: true,\n                allowFullScreen: true,\n                frameBorder: \"no\",\n                width: \"100%\",\n                height: \"auto\",\n                referrerPolicy: \"no-referrer-when-downgrade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this);\n      });\n      return arr;\n    };\n\n    this.state = {\n      selected: \"Select Channel\",\n      channelList: [],\n      loading: true,\n      code: \"\",\n      playlists: []\n    };\n  }\n\n  componentDidMount() {\n    // console.log(access_token)\n    // console.log(this.props.location.state.user)\n    if (!this.props.location.state) {\n      alert(\"Please Login to continue\");\n      this.props.history.push({\n        pathname: '/login',\n        state: {\n          reload: true\n        }\n      });\n    } else {\n      const access_token = this.props.location.state.access_token ? this.props.location.state.access_token : \"\";\n\n      if (Object.keys(access_token).length !== 0) {\n        // console.log(access_token)\n        this.setState({\n          code: access_token\n        });\n        const headers = {\n          'Authorization': 'Bearer ' + access_token,\n          'Content-Type': 'application/x-www-form-urlencoded',\n          \"Access-Control-Allow-Origin\": \"*\"\n        };\n        axios.get('https://api.video.ibm.com/users/self/channels.json', {\n          headers: headers\n        }).then(res => {\n          // console.log(res)\n          this.setState({\n            loading: false,\n            channelsData: res.data.channels,\n            headers\n          });\n          const arr = Object.values(res.data.channels); // console.log(arr)\n\n          const items = arr.map(item => {\n            return {\n              id: item.id,\n              text: item.title\n            };\n          });\n          this.setState({\n            channelList: items\n          }); // console.log(items)\n        });\n      } else {\n        console.log(\"nope\");\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      style: {\n        display: \"flex\",\n        clear: \"both\",\n        justifyContent: \"center\",\n        minHeight: \"100vh\",\n        overflow: \"scroll\",\n        padding: \"1rem\",\n        backgroundImage: `url(${back})`,\n        // backgroundPositionX:\"350px\", \n        backgroundSize: 'cover',\n        alignItems: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-md-center\",\n        children: this.state.loading ? /*#__PURE__*/_jsxDEV(Loading, {\n          style: {\n            align: 'center'\n          },\n          description: \"Active loading indicator\",\n          withOverlay: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bx--grid bx--grid--full-width landing-page\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bx--row landing-page__banner\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                color: \"white\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"E-Learning Portal using Watson Media\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bx--row landing-page__r2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bx--col bx--no-gutter\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bx--grid bx--grid--no-gutter bx--grid--full-width\",\n                style: {},\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bx--row landing-page__tab-content\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bx--col-md-4 bx--col-lg-7\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        maxWidth: 400\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Dropdown, {\n                        id: \"default\",\n                        titleText: \"Channel List\" // helperText=\"This is some helper text\"\n                        ,\n                        label: this.state.selected,\n                        items: this.state.channelList,\n                        itemToString: item => item ? item.text : '',\n                        onChange: this.onChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 154,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 47\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bx--row landing-page__r3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bx--col-md-4 bx--col-lg-8\",\n              children: this.state.selected === \"Select Channel\" ? /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tabs-story-wrapper\",\n                  children: /*#__PURE__*/_jsxDEV(Tabs, {\n                    backgroundColor: \"white\",\n                    style: {\n                      paddingLeft: \"2rem\"\n                    },\n                    type: \"container\",\n                    children: [/*#__PURE__*/_jsxDEV(Tab, {\n                      label: \"Videos\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n                          src: `https://video.ibm.com/combined-embed/${this.state.selectedItem.id}/?social=0&videos=tab`,\n                          style: {\n                            border: \"0\",\n                            padding: \"0\",\n                            backgroundColor: \"white\"\n                          },\n                          webkitallowfullscreen: true,\n                          allowFullScreen: true,\n                          frameBorder: \"no\",\n                          width: \"1040\",\n                          height: \"405\",\n                          referrerPolicy: \"no-referrer-when-downgrade\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 182,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 181,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 53\n                    }, this), this.state.playlists.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 61\n                    }, this) : /*#__PURE__*/_jsxDEV(Tab, {\n                      label: \"Playlists\",\n                      style: {\n                        color: \"white\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Tabs, {\n                        backgroundColor: \"white\",\n                        style: {\n                          paddingLeft: \"1rem\"\n                        },\n                        type: \"container\",\n                        children: this.showPlaylists()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Dashboard);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/src/content/Dashboard/Dashboard.js"],"names":["React","withRouter","Dropdown","Loading","Tabs","Tab","axios","Container","Row","BrowserView","MobileView","back","Dashboard","Component","constructor","onChange","e","console","log","setState","loading","selected","selectedItem","text","id","awaxios","get","then","res","arr","Object","values","data","playlists","items","map","item","title","catch","err","state","headers","showPlaylists","border","padding","backgroundColor","paddingTop","position","overflow","display","height","width","channelList","code","componentDidMount","props","location","alert","history","push","pathname","reload","access_token","keys","length","channelsData","channels","render","clear","justifyContent","minHeight","backgroundImage","backgroundSize","alignItems","align","color","maxWidth","paddingLeft"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,UADJ,QAES,kBAFT;AAGA,SAAQC,QAAR,EAAkBC,OAAlB,EAA2BC,IAA3B,EAAiCC,GAAjC,QAA2C,yBAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAmBC,GAAnB,QAA6B,iBAA7B;AACA,SACIC,WADJ,EAEIC,UAFJ,QAGO,qBAHP;AAIA,OAAOC,IAAP,MAAiB,gCAAjB;;AAGE,MAAMC,SAAN,SAAwBZ,KAAK,CAACa,SAA9B,CAAuC;AACrCC,EAAAA,WAAW,GAAE;AACT;;AADS,SAkDbC,QAlDa,GAkDF,MAAOC,CAAP,IAAW;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAKG,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAE,IAAV;AAAgBC,QAAAA,QAAQ,EAAEL,CAAC,CAACM,YAAF,CAAeC,IAAzC;AAA+CD,QAAAA,YAAY,EAAEN,CAAC,CAACM;AAA/D,OAAd;AAGAL,MAAAA,OAAO,CAACC,GAAR,CAAa,wCAAuCF,CAAC,CAACM,YAAF,CAAeE,EAAG,EAAtE;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAa,yCAAwCV,CAAC,CAACM,YAAF,CAAeE,EAAG,EAAvE,EACCG,IADD,CACMC,GAAG,IAAE;AACPX,QAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACA,cAAMC,GAAG,GAAGC,MAAM,CAACC,MAAP,CAAcH,GAAG,CAACI,IAAJ,CAASC,SAAvB,CAAZ;AACI,cAAMC,KAAK,GAAGL,GAAG,CAACM,GAAJ,CAAQC,IAAI,IAAE;AACxB,iBAAO;AACHZ,YAAAA,EAAE,EAAEY,IAAI,CAACZ,EADN;AAEHD,YAAAA,IAAI,EAAEa,IAAI,CAACC;AAFR,WAAP;AAIH,SALa,CAAd;AAMApB,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBgB,KAAzB;AACA,aAAKf,QAAL,CAAc;AAACc,UAAAA,SAAS,EAAEC;AAAZ,SAAd;AACP,OAZD,EAaCI,KAbD,CAaOC,GAAG,IAAE;AACRtB,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBqB,GAApB;AACAtB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKsB,KAAL,CAAWP,SAAvB;AACH,OAhBD;AAkBA,YAAM3B,KAAK,CAACoB,GAAN,CAAW,sCAAqCV,CAAC,CAACM,YAAF,CAAeE,EAAG,cAAlE,EAAiF;AAACiB,QAAAA,OAAO,EAAE,KAAKD,KAAL,CAAWC;AAArB,OAAjF,EACLd,IADK,CACAC,GAAG,IAAE;AACPX,QAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACH,OAHK,CAAN;AAIA,WAAKT,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAd;AACH,KA/EY;;AAAA,SAiFbsB,aAjFa,GAiFG,MAAI;AAChB,YAAMb,GAAG,GAAG,KAAKW,KAAL,CAAWP,SAAX,CAAqBE,GAArB,CAAyBC,IAAI,IAAE;AACvC,4BACI,QAAC,GAAD;AAAK,UAAA,KAAK,EAAEA,IAAI,CAACb,IAAjB;AAAA,kCACI,QAAC,WAAD;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,cAAf;AAAA,qCACI;AAAQ,gBAAA,GAAG,EAAG,iDAAgDa,IAAI,CAACZ,EAAG,EAAtE;AAAyE,gBAAA,KAAK,EAAE;AAACmB,kBAAAA,MAAM,EAAE,GAAT;AAAcC,kBAAAA,OAAO,EAAC,GAAtB;AAA0BC,kBAAAA,eAAe,EAAC;AAA1C,iBAAhF;AAAoI,gBAAA,qBAAqB,MAAzJ;AAA0J,gBAAA,eAAe,MAAzK;AAA0K,gBAAA,WAAW,EAAC,IAAtL;AAA2L,gBAAA,KAAK,EAAC,MAAjM;AAAwM,gBAAA,MAAM,EAAC,KAA/M;AAAqN,gBAAA,cAAc,EAAC;AAApO;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAMI,QAAC,UAAD;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,cAAf;AACA,cAAA,KAAK,EAAE;AAACC,gBAAAA,UAAU,EAAC,QAAZ;AAAsBC,gBAAAA,QAAQ,EAAC,UAA/B;AAA2CC,gBAAAA,QAAQ,EAAC,QAApD;AAA8DC,gBAAAA,OAAO,EAAC,OAAtE;AAA+EC,gBAAAA,MAAM,EAAC,MAAtF;AAA8FC,gBAAAA,KAAK,EAAE;AAArG,eADP;AAAA,qCAGI;AAAQ,gBAAA,GAAG,EAAG,iDAAgDf,IAAI,CAACZ,EAAG,EAAtE;AAAyE,gBAAA,KAAK,EAAE;AAACmB,kBAAAA,MAAM,EAAE,GAAT;AAAcC,kBAAAA,OAAO,EAAC,GAAtB;AAA0BC,kBAAAA,eAAe,EAAC,OAA1C;AAAmDE,kBAAAA,QAAQ,EAAC;AAA5D,iBAAhF;AAAyJ,gBAAA,qBAAqB,MAA9K;AAA+K,gBAAA,eAAe,MAA9L;AAA+L,gBAAA,WAAW,EAAC,IAA3M;AAAgN,gBAAA,KAAK,EAAC,MAAtN;AAA6N,gBAAA,MAAM,EAAC,MAApO;AAA2O,gBAAA,cAAc,EAAC;AAA1P;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ;AAgBH,OAjBW,CAAZ;AAkBA,aAAOlB,GAAP;AACH,KArGY;;AAET,SAAKW,KAAL,GAAa;AACTnB,MAAAA,QAAQ,EAAE,gBADD;AAET+B,MAAAA,WAAW,EAAE,EAFJ;AAGThC,MAAAA,OAAO,EAAE,IAHA;AAITiC,MAAAA,IAAI,EAAC,EAJI;AAKTpB,MAAAA,SAAS,EAAC;AALD,KAAb;AAOH;;AAEDqB,EAAAA,iBAAiB,GAAE;AACf;AACA;AACA,QAAG,CAAC,KAAKC,KAAL,CAAWC,QAAX,CAAoBhB,KAAxB,EAA8B;AAC1BiB,MAAAA,KAAK,CAAC,0BAAD,CAAL;AACA,WAAKF,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB;AACpBC,QAAAA,QAAQ,EAAC,QADW;AAEpBpB,QAAAA,KAAK,EAAC;AAAEqB,UAAAA,MAAM,EAAC;AAAT;AAFc,OAAxB;AAIH,KAND,MAMO;AACH,YAAMC,YAAY,GAAG,KAAKP,KAAL,CAAWC,QAAX,CAAoBhB,KAApB,CAA0BsB,YAA1B,GAAuC,KAAKP,KAAL,CAAWC,QAAX,CAAoBhB,KAApB,CAA0BsB,YAAjE,GAA8E,EAAnG;;AACA,UAAGhC,MAAM,CAACiC,IAAP,CAAYD,YAAZ,EAA0BE,MAA1B,KAAqC,CAAxC,EAA0C;AACtC;AACA,aAAK7C,QAAL,CAAc;AAACkC,UAAAA,IAAI,EAAES;AAAP,SAAd;AACA,cAAMrB,OAAO,GAAG;AACZ,2BAAiB,YAAYqB,YADjB;AAEZ,0BAAgB,mCAFJ;AAGZ,yCAA+B;AAHnB,SAAhB;AAKAxD,QAAAA,KAAK,CAACoB,GAAN,CAAU,oDAAV,EAA+D;AAACe,UAAAA,OAAO,EAACA;AAAT,SAA/D,EAAkFd,IAAlF,CAAuFC,GAAG,IAAE;AACxF;AACA,eAAKT,QAAL,CAAc;AAACC,YAAAA,OAAO,EAAC,KAAT;AAAgB6C,YAAAA,YAAY,EAAErC,GAAG,CAACI,IAAJ,CAASkC,QAAvC;AAAiDzB,YAAAA;AAAjD,WAAd;AACA,gBAAMZ,GAAG,GAAGC,MAAM,CAACC,MAAP,CAAcH,GAAG,CAACI,IAAJ,CAASkC,QAAvB,CAAZ,CAHwF,CAIxF;;AACA,gBAAMhC,KAAK,GAAGL,GAAG,CAACM,GAAJ,CAAQC,IAAI,IAAE;AACxB,mBAAO;AACHZ,cAAAA,EAAE,EAAEY,IAAI,CAACZ,EADN;AAEHD,cAAAA,IAAI,EAAEa,IAAI,CAACC;AAFR,aAAP;AAIH,WALa,CAAd;AAMA,eAAKlB,QAAL,CAAc;AAACiC,YAAAA,WAAW,EAAElB;AAAd,WAAd,EAXwF,CAYxF;AACH,SAbD;AAcH,OAtBD,MAsBO;AACHjB,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH;AACJ;AACJ;;AAuDDiD,EAAAA,MAAM,GAAE;AAEJ,wBAEI,QAAC,SAAD;AAAW,MAAA,KAAK,EAAE,IAAlB;AACI,MAAA,KAAK,EAAE;AAAClB,QAAAA,OAAO,EAAC,MAAT;AACHmB,QAAAA,KAAK,EAAC,MADH;AAEHC,QAAAA,cAAc,EAAE,QAFb;AAGHC,QAAAA,SAAS,EAAC,OAHP;AAIHtB,QAAAA,QAAQ,EAAC,QAJN;AAKHJ,QAAAA,OAAO,EAAC,MALL;AAMH2B,QAAAA,eAAe,EAAG,OAAM5D,IAAK,GAN1B;AAOH;AACA6D,QAAAA,cAAc,EAAE,OARb;AASHC,QAAAA,UAAU,EAAE;AATT,OADX;AAAA,6BAWI,QAAC,GAAD;AAAK,QAAA,SAAS,EAAC,2BAAf;AAAA,kBAEI,KAAKjC,KAAL,CAAWpB,OAAX,gBACA,QAAC,OAAD;AACI,UAAA,KAAK,EAAE;AAACsD,YAAAA,KAAK,EAAE;AAAR,WADX;AAEI,UAAA,WAAW,EAAC,0BAFhB;AAE2C,UAAA,WAAW,EAAE;AAFxD;AAAA;AAAA;AAAA;AAAA,gBADA,gBAMA;AAAK,UAAA,SAAS,EAAC,4CAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,8BAAf;AAAA,mCACI;AAAI,cAAA,KAAK,EAAE;AAACC,gBAAAA,KAAK,EAAC;AAAP,eAAX;AAAA,qCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAMI;AAAK,YAAA,SAAS,EAAC,0BAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,uBAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,mDAAf;AAAmE,gBAAA,KAAK,EAAE,EAA1E;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,mCAAf;AAAA,yCACI;AAAK,oBAAA,SAAS,EAAC,2BAAf;AAAA,4CACA;AAAK,sBAAA,KAAK,EAAE;AAAEC,wBAAAA,QAAQ,EAAE;AAAZ,uBAAZ;AAAA,6CACI,QAAC,QAAD;AACI,wBAAA,EAAE,EAAC,SADP;AAEI,wBAAA,SAAS,EAAC,cAFd,CAGI;AAHJ;AAII,wBAAA,KAAK,EAAG,KAAKpC,KAAL,CAAWnB,QAJvB;AAKI,wBAAA,KAAK,EAAE,KAAKmB,KAAL,CAAWY,WALtB;AAMI,wBAAA,YAAY,EAAGhB,IAAD,IAAWA,IAAI,GAAGA,IAAI,CAACb,IAAR,GAAe,EANhD;AAOI,wBAAA,QAAQ,EAAE,KAAKR;AAPnB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BADA,eAWM;AAAA;AAAA;AAAA;AAAA,4BAXN;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBANJ,eA4BI;AAAK,YAAA,SAAS,EAAC,0BAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,2BAAf;AAAA,wBAEY,KAAKyB,KAAL,CAAWnB,QAAX,KAAwB,gBAAxB,gBACA;AAAA;AAAA;AAAA;AAAA,sBADA,gBAGA;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,oBAAf;AAAA,yCACI,QAAC,IAAD;AAAM,oBAAA,eAAe,EAAC,OAAtB;AAA8B,oBAAA,KAAK,EAAE;AAACwD,sBAAAA,WAAW,EAAC;AAAb,qBAArC;AACA,oBAAA,IAAI,EAAC,WADL;AAAA,4CAEI,QAAC,GAAD;AAAK,sBAAA,KAAK,EAAC,QAAX;AAAA,6CACI;AAAA,+CACA;AAAQ,0BAAA,GAAG,EAAG,wCAAuC,KAAKrC,KAAL,CAAWlB,YAAX,CAAwBE,EAAG,uBAAhF;AAAyG,0BAAA,KAAK,EAAE;AAACmB,4BAAAA,MAAM,EAAE,GAAT;AAAcC,4BAAAA,OAAO,EAAC,GAAtB;AAA0BC,4BAAAA,eAAe,EAAC;AAA1C,2BAAhH;AAAoK,0BAAA,qBAAqB,MAAzL;AAA0L,0BAAA,eAAe,MAAzM;AAA0M,0BAAA,WAAW,EAAC,IAAtN;AAA2N,0BAAA,KAAK,EAAC,MAAjO;AAAwO,0BAAA,MAAM,EAAC,KAA/O;AAAqP,0BAAA,cAAc,EAAC;AAApQ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BAFJ,EAQQ,KAAKL,KAAL,CAAWP,SAAX,CAAqB+B,MAArB,KAA8B,CAA9B,gBAEI;AAAA;AAAA;AAAA;AAAA,4BAFJ,gBAIA,QAAC,GAAD;AAAK,sBAAA,KAAK,EAAC,WAAX;AAAuB,sBAAA,KAAK,EAAE;AAACW,wBAAAA,KAAK,EAAC;AAAP,uBAA9B;AAAA,6CACI,QAAC,IAAD;AAAM,wBAAA,eAAe,EAAC,OAAtB;AAA8B,wBAAA,KAAK,EAAE;AAACE,0BAAAA,WAAW,EAAC;AAAb,yBAArC;AACI,wBAAA,IAAI,EAAC,WADT;AAAA,kCAEK,KAAKnC,aAAL;AAFL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BAZR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AALZ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA;AAXJ;AAAA;AAAA;AAAA;AAAA,YAFJ;AAuFH;;AAjMoC;;AAoMzC,oBAAezC,UAAU,CAACW,SAAD,CAAzB","sourcesContent":["import React from \"react\"\nimport {\n    withRouter\n  } from \"react-router-dom\"\nimport {Dropdown, Loading, Tabs, Tab} from 'carbon-components-react'\nimport axios from 'axios'\nimport {Container, Row} from 'react-bootstrap'\nimport {\n    BrowserView,\n    MobileView,\n} from \"react-device-detect\";\nimport back from './../../assets/background3.jpg'\n\n\n  class Dashboard extends React.Component{\n    constructor(){\n        super()\n        this.state = {\n            selected: \"Select Channel\",\n            channelList: [],\n            loading: true,\n            code:\"\",\n            playlists:[]\n        }\n    }\n\n    componentDidMount(){\n        // console.log(access_token)\n        // console.log(this.props.location.state.user)\n        if(!this.props.location.state){\n            alert(\"Please Login to continue\")\n            this.props.history.push({\n                pathname:'/login',\n                state:{ reload:true }\n            })\n        } else {\n            const access_token = this.props.location.state.access_token?this.props.location.state.access_token:\"\"\n            if(Object.keys(access_token).length !== 0){\n                // console.log(access_token)\n                this.setState({code: access_token})\n                const headers = {\n                    'Authorization': 'Bearer ' + access_token,\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                    \"Access-Control-Allow-Origin\": \"*\"\n                }\n                axios.get('https://api.video.ibm.com/users/self/channels.json',{headers:headers}).then(res=>{\n                    // console.log(res)\n                    this.setState({loading:false, channelsData: res.data.channels, headers})\n                    const arr = Object.values(res.data.channels)\n                    // console.log(arr)\n                    const items = arr.map(item=>{\n                        return({\n                            id: item.id,\n                            text: item.title\n                        })\n                    })\n                    this.setState({channelList: items})\n                    // console.log(items)\n                })\n            } else {\n                console.log(\"nope\")\n            }\n        }\n    }\n\n    onChange = async (e)=>{\n        console.log(e)\n        this.setState({loading: true, selected: e.selectedItem.text, selectedItem: e.selectedItem})\n\n\n        console.log(`http://localhost:8080/fetchVideos?id=${e.selectedItem.id}`)\n        awaxios.get(`http://localhost:8080/fetchVideos/?id=${e.selectedItem.id}`)\n        .then(res=>{\n            console.log(res)\n            const arr = Object.values(res.data.playlists)\n                const items = arr.map(item=>{\n                    return({\n                        id: item.id,\n                        text: item.title\n                    })\n                })\n                console.log(\"playlists\", items)\n                this.setState({playlists: items})\n        })\n        .catch(err=>{\n            console.log(\"nopr\" ,err)\n            console.log(this.state.playlists)\n        })\n\n        await axios.get(`https://api.video.ibm.com/channels/${e.selectedItem.id}/videos.json`, {headers: this.state.headers})\n        .then(res=>{\n            console.log(res)\n        })\n        this.setState({loading: false})\n    }\n\n    showPlaylists = ()=>{\n        const arr = this.state.playlists.map(item=>{\n            return(\n                <Tab label={item.text}>\n                    <BrowserView>\n                        <div className=\"some-content\">\n                            <iframe src={`https://video.ibm.com/combined-embed/playlist/${item.id}`} style={{border: \"0\", padding:\"0\",backgroundColor:\"white\"}} webkitallowfullscreen allowFullScreen frameBorder=\"no\" width=\"1040\" height=\"405\" referrerPolicy=\"no-referrer-when-downgrade\"></iframe>                     \n                        </div>\n                    </BrowserView>\n                    <MobileView>\n                        <div className=\"some-content\"\n                        style={{paddingTop:\"56.25%\", position:\"relative\", overflow:\"hidden\", display:\"block\", height:\"auto\", width: \"100%\"}}\n                        >\n                            <iframe src={`https://video.ibm.com/combined-embed/playlist/${item.id}`} style={{border: \"0\", padding:\"0\",backgroundColor:\"white\", position:\"relative\"}} webkitallowfullscreen allowFullScreen frameBorder=\"no\" width=\"100%\" height=\"auto\" referrerPolicy=\"no-referrer-when-downgrade\"></iframe>                     \n                        </div>\n                    </MobileView>\n                </Tab>\n            )\n        })\n        return arr\n    }\n\n    render(){\n\n        return (\n\n            <Container fluid={true} \n                style={{display:\"flex\", \n                    clear:\"both\", \n                    justifyContent: \"center\",\n                    minHeight:\"100vh\", \n                    overflow:\"scroll\", \n                    padding:\"1rem\",\n                    backgroundImage: `url(${back})`, \n                    // backgroundPositionX:\"350px\", \n                    backgroundSize: 'cover',\n                    alignItems: \"center\"}}>\n                <Row className=\"justify-content-md-center\">\n                {\n                    this.state.loading?\n                    <Loading\n                        style={{align: 'center'}}\n                        description=\"Active loading indicator\" withOverlay={false}\n                    />\n                    :\n                    <div className=\"bx--grid bx--grid--full-width landing-page\" >\n                        <div className=\"bx--row landing-page__banner\">\n                            <h1 style={{color:\"white\"}}>\n                                <strong>E-Learning Portal using Watson Media</strong>\n                            </h1>\n                        </div>\n                        <div className=\"bx--row landing-page__r2\">\n                            <div className=\"bx--col bx--no-gutter\">\n                                <div className=\"bx--grid bx--grid--no-gutter bx--grid--full-width\" style={{}}>\n                                    <div className=\"bx--row landing-page__tab-content\">\n                                        <div className=\"bx--col-md-4 bx--col-lg-7\">\n                                        <div style={{ maxWidth: 400 }}>\n                                            <Dropdown\n                                                id=\"default\"\n                                                titleText=\"Channel List\"\n                                                // helperText=\"This is some helper text\"\n                                                label= {this.state.selected}\n                                                items={this.state.channelList}\n                                                itemToString={(item) => (item ? item.text : '')}\n                                                onChange={this.onChange}\n                                            />\n                                        </div><br/>\n                                        \n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"bx--row landing-page__r3\">\n                            <div className=\"bx--col-md-4 bx--col-lg-8\">\n                                    {\n                                        this.state.selected === \"Select Channel\"?\n                                        <p></p>\n                                        :\n                                        <div>\n                                            <div className='tabs-story-wrapper' >\n                                                <Tabs backgroundColor=\"white\" style={{paddingLeft:\"2rem\"}}\n                                                type=\"container\">\n                                                    <Tab label=\"Videos\">\n                                                        <div>\n                                                        <iframe src={`https://video.ibm.com/combined-embed/${this.state.selectedItem.id}/?social=0&videos=tab` } style={{border: \"0\", padding:\"0\",backgroundColor:\"white\"}} webkitallowfullscreen allowFullScreen frameBorder=\"no\" width=\"1040\" height=\"405\" referrerPolicy=\"no-referrer-when-downgrade\"></iframe>\n                                                        </div>\n                                                    </Tab>\n                                                    {\n                                                        this.state.playlists.length===0\n                                                        ?\n                                                            <div></div>\n                                                        :\n                                                        <Tab label=\"Playlists\" style={{color:\"white\"}}>\n                                                            <Tabs backgroundColor=\"white\" style={{paddingLeft:\"1rem\"}}\n                                                                type=\"container\">\n                                                                {this.showPlaylists()}\n                                                            </Tabs> \n                                                        </Tab>\n                                                    }\n                                                    </Tabs>\n                                            </div>\n                                        </div>\n                                    }\n                            </div>\n                        </div>\n                    </div>\n                }\n                </Row>\n            </Container>\n          );\n    }\n}\n\nexport default withRouter(Dashboard)"]},"metadata":{},"sourceType":"module"}