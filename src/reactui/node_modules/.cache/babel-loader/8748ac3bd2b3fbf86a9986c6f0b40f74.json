{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{BrowserRouter as Router,Switch,Route,Link,Redirect,withRouter}from\"react-router-dom\";import{Container,Row,Col}from'react-bootstrap';import Dashboard from\"./../Dashboard\";import{Button,TextInput,Form,Loading}from'carbon-components-react';import back from'./../../assets/background3.jpg';var data=require('./../sampleLogin.json');var axios=require('axios');var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.handleClick=function(e){e.preventDefault();if(_this.state.email===\"\"||_this.state.password===\"\"){alert(\"Please enter email and password\");return;}if(!_this.state.auth){console.log(\"Toast\");// this.Toast()\nalert(\"Please contact Admin to authorize the page\");return;}var found=false;var user={};data.map(function(item){if(item.email===_this.state.email&&item.password===_this.state.password){found=true;user=item;}});if(found){var access_token=_this.state.access_token;_this.props.history.push({pathname:'/dashboard',state:{user:user,access_token:access_token}});}else{alert(\"Invalid Email or Password\");return;}console.log(found,user);};_this.state={email:\"\",password:\"\",loading:true,auth:false};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// console.log(window.location.hostname)\naxios.get(\"http://\".concat(window.location.hostname,\":\").concat(window.location.port,\"/showToken\")).then(function(res){// axios.get(`http://${window.location.hostname}:8080/showToken`).then(res=>{\nconsole.log(res.data);var access_token=res.data.access_token;if(access_token!==\"expired\"&&access_token.length===40){_this2.setState({auth:true,loading:false,access_token:access_token});// console.log('auth')\n}else{alert(\"Contact Admin to authorize page\");_this2.props.history.push('/admin');}}).catch(function(err){alert(\"Contact Admin to authorize page\");console.log(err);_this2.props.history.push('/admin');});}},{key:\"render\",value:function render(){var _ref;return/*#__PURE__*/_jsx(Container,{fluid:true,style:(_ref={display:\"flex\",overflow:\"auto\",clear:\"both\",justifyContent:\"center\",minHeight:\"100vh\"},_defineProperty(_ref,\"overflow\",\"scroll\"),_defineProperty(_ref,\"backgroundImage\",\"url(\".concat(back,\")\")),_defineProperty(_ref,\"backgroundSize\",'cover'),_defineProperty(_ref,\"width\",'100%'),_defineProperty(_ref,\"padding\",'1rem'),_defineProperty(_ref,\"alignItems\",\"center\"),_ref),children:/*#__PURE__*/_jsx(Row,{children:this.state.loading?/*#__PURE__*/_jsx(Loading,{style:{align:'center'},description:\"Active loading indicator\",withOverlay:false}):/*#__PURE__*/_jsxs(Col,{md:12,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{style:{color:\"white\"},children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"E-Learning Portal using\",/*#__PURE__*/_jsx(\"br\",{}),\" Watson Media\"]})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{alignItems:\"center\"},children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(TextInput,{id:\"test2\",invalidText:\"A valid value is required\",placeholder:\"Email\",style:{marginBottom:\"0.5em\"},type:\"email\",name:\"email\",value:this.state.email,onChange:this.handleChange,invalid:false}),/*#__PURE__*/_jsx(TextInput.PasswordInput,{hidePasswordLabel:\"Hide password\",id:\"test\",invalidText:\"A valid value is required\",placeholder:\"Password\",name:\"password\",value:this.state.password,onChange:this.handleChange}),/*#__PURE__*/_jsx(Button,{style:{marginTop:\"1em\"},kind:\"primary\",tabIndex:0,type:\"submit\",onClick:this.handleClick,children:\"Login\"})]})})]})})});}}]);return Login;}(React.Component);export default withRouter(Login);","map":{"version":3,"sources":["/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/src/content/Login/Login.js"],"names":["React","BrowserRouter","Router","Switch","Route","Link","Redirect","withRouter","Container","Row","Col","Dashboard","Button","TextInput","Form","Loading","back","data","require","axios","Login","handleChange","e","target","name","value","setState","handleClick","preventDefault","state","email","password","alert","auth","console","log","found","user","map","item","access_token","props","history","push","pathname","loading","get","window","location","hostname","port","then","res","length","catch","err","display","overflow","clear","justifyContent","minHeight","align","color","alignItems","marginBottom","marginTop","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    Redirect,\n    withRouter\n  } from \"react-router-dom\"\nimport { Container, Row, Col } from 'react-bootstrap';\nimport Dashboard from \"./../Dashboard\"\nimport { Button, TextInput, Form, Loading } from 'carbon-components-react';\nimport back from './../../assets/background3.jpg'\nvar data = require('./../sampleLogin.json')\nconst axios = require('axios')\n\n\nclass Login extends React.Component{\n    constructor(){\n        super()\n        this.state = {\n            email: \"\",\n            password:\"\",\n            loading: true,\n            auth:false\n        }\n    }\n\n    componentDidMount(){\n        // console.log(window.location.hostname)\n        axios.get(`http://${window.location.hostname}:${window.location.port}/showToken`).then(res=>{\n        // axios.get(`http://${window.location.hostname}:8080/showToken`).then(res=>{\n            console.log(res.data)\n            const access_token = res.data.access_token\n            if(access_token !== \"expired\" && access_token.length === 40){\n                this.setState({auth:true, loading:false, access_token})\n                // console.log('auth')\n            } else {\n                alert(\"Contact Admin to authorize page\")\n                this.props.history.push('/admin')\n            }\n        }).catch((err)=>{\n            alert(\"Contact Admin to authorize page\")\n            console.log(err)\n            this.props.history.push('/admin')\n        })\n    }\n\n    handleChange = (e) =>{\n        const {name, value} = e.target\n        this.setState({\n            [name]: value\n        })\n    }\n\n    handleClick = (e)=>{\n        e.preventDefault()\n        if(this.state.email === \"\" || this.state.password === \"\"){\n            alert(\"Please enter email and password\")\n            return\n        }\n        if(!this.state.auth){\n            console.log(\"Toast\")\n            // this.Toast()\n            alert(\"Please contact Admin to authorize the page\")\n            return\n        }\n        var found = false\n        var user = {}\n        data.map(item => {\n            if(item.email === this.state.email && item.password === this.state.password){\n                found = true\n                user = item\n            }\n        })\n        if(found){\n            const access_token = this.state.access_token\n            this.props.history.push({\n                pathname:'/dashboard',\n                state:{ user, access_token }\n            })\n        } else {\n            alert(\"Invalid Email or Password\")\n            return\n        }\n        console.log(found, user)\n    }\n\n\n    render(){\n        return(\n            <Container fluid={true} \n                style={{display:\"flex\", \n                    overflow:\"auto\", \n                    clear:\"both\", \n                    justifyContent: \"center\",\n                    minHeight:\"100vh\", \n                    overflow:\"scroll\", \n                    backgroundImage: `url(${back})`, \n                    // backgroundPositionX:\"350px\", \n                    backgroundSize: 'cover', \n                    width:'100%',\n                    padding:'1rem',\n                    alignItems: \"center\"}}>\n                <Row >\n                    {\n                        this.state.loading?\n                        <Loading\n                            style={{align: 'center'}}\n                            description=\"Active loading indicator\" withOverlay={false}\n                        />\n                        :\n                    <Col md={12}>\n                        <div >\n                            <h1 style={{color:\"white\"}}>\n                                <strong>E-Learning Portal using<br/> Watson Media</strong>\n                            </h1>\n                        </div><br/>\n                        <div style={{alignItems: \"center\"}}>\n                            <Form>\n                                <TextInput\n                                    id=\"test2\"\n                                    invalidText=\"A valid value is required\"\n                                    placeholder=\"Email\"\n                                    style={{marginBottom:\"0.5em\"}}\n                                    type=\"email\"\n                                    name=\"email\"\n                                    value= {this.state.email}\n                                    onChange = {this.handleChange}\n                                    invalid={false}\n                                />\n                                <TextInput.PasswordInput \n                                    hidePasswordLabel=\"Hide password\"\n                                    id=\"test\"\n                                    invalidText=\"A valid value is required\"\n                                    placeholder=\"Password\"\n                                    name=\"password\"\n                                    value= {this.state.password}\n                                    onChange = {this.handleChange}\n                                />\n                                <Button\n                                    style={{marginTop:\"1em\"}}\n                                    kind=\"primary\"\n                                    tabIndex={0}\n                                    type=\"submit\"\n                                    onClick={this.handleClick}\n                                >\n                                   Login\n                                </Button>\n                            </Form>\n                            \n                        </div>\n                    </Col>\n                    }\n                </Row>\n            </Container>\n        )\n    }\n}\n\nexport default withRouter(Login)"]},"metadata":{},"sourceType":"module"}