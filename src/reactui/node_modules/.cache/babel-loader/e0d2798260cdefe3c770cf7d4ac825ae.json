{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/src/content/Login/Login.js\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect, withRouter } from \"react-router-dom\";\nimport { Container, Row, Col } from 'react-bootstrap';\nimport Dashboard from \"./../Dashboard\";\nimport { Button, TextInput, Form, Loading } from 'carbon-components-react';\nimport back from './../../assets/background3.jpg';\n\nvar data = require('./../sampleLogin.json');\n\nconst axios = require('axios');\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleClick = e => {\n      e.preventDefault();\n\n      if (this.state.email === \"\" || this.state.password === \"\") {\n        alert(\"Please enter email and password\");\n        return;\n      }\n\n      if (!this.state.auth) {\n        console.log(\"Toast\"); // this.Toast()\n\n        alert(\"Please contact Admin to authorize the page\");\n        return;\n      }\n\n      var found = false;\n      var user = {};\n      data.map(item => {\n        if (item.email === this.state.email && item.password === this.state.password) {\n          found = true;\n          user = item;\n        }\n      });\n\n      if (found) {\n        const access_token = this.state.access_token;\n        this.props.history.push({\n          pathname: '/dashboard',\n          state: {\n            user,\n            access_token\n          }\n        });\n      } else {\n        alert(\"Invalid Email or Password\");\n        return;\n      }\n\n      console.log(found, user);\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loading: true,\n      auth: false\n    };\n  }\n\n  componentDidMount() {\n    // console.log(window.location.hostname)\n    // axios.get(`http://${window.location.hostname}:${window.location.port}/showToken`).then(res=>{\n    axios.get(`http://${window.location.hostname}:8080/showToken`).then(res => {\n      console.log(res.data);\n      const access_token = res.data.access_token;\n\n      if (access_token !== \"expired\" && access_token.length === 40) {\n        this.setState({\n          auth: true,\n          loading: false,\n          access_token\n        }); // console.log('auth')\n      } else {\n        alert(\"Contact Admin to authorize page\");\n        this.props.history.push('/admin');\n      }\n    }).catch(err => {\n      alert(\"Contact Admin to authorize page\");\n      console.log(err);\n      this.props.history.push('/admin');\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      style: {\n        display: \"flex\",\n        overflow: \"auto\",\n        clear: \"both\",\n        justifyContent: \"center\",\n        minHeight: \"100vh\",\n        overflow: \"scroll\",\n        backgroundImage: `url(${back})`,\n        // backgroundPositionX:\"350px\", \n        backgroundSize: 'cover',\n        width: '100%',\n        padding: '1rem',\n        alignItems: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: this.state.loading ? /*#__PURE__*/_jsxDEV(Loading, {\n          style: {\n            align: 'center'\n          },\n          description: \"Active loading indicator\",\n          withOverlay: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Col, {\n          md: 12,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                color: \"white\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"E-Learning Portal using\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 64\n                }, this), \" Watson Media\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              alignItems: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              children: [/*#__PURE__*/_jsxDEV(TextInput, {\n                id: \"test2\",\n                invalidText: \"A valid value is required\",\n                placeholder: \"Email\",\n                style: {\n                  marginBottom: \"0.5em\"\n                },\n                type: \"email\",\n                name: \"email\",\n                value: this.state.email,\n                onChange: this.handleChange,\n                invalid: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextInput.PasswordInput, {\n                hidePasswordLabel: \"Hide password\",\n                id: \"test\",\n                invalidText: \"A valid value is required\",\n                placeholder: \"Password\",\n                name: \"password\",\n                value: this.state.password,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  marginTop: \"1em\"\n                },\n                kind: \"primary\",\n                tabIndex: 0,\n                type: \"submit\",\n                onClick: this.handleClick,\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/kushagra/IBM/Watson-Media/build-an-elearning-portal-with-watson-media/src/reactui/src/content/Login/Login.js"],"names":["React","BrowserRouter","Router","Switch","Route","Link","Redirect","withRouter","Container","Row","Col","Dashboard","Button","TextInput","Form","Loading","back","data","require","axios","Login","Component","constructor","handleChange","e","name","value","target","setState","handleClick","preventDefault","state","email","password","alert","auth","console","log","found","user","map","item","access_token","props","history","push","pathname","loading","componentDidMount","get","window","location","hostname","then","res","length","catch","err","render","display","overflow","clear","justifyContent","minHeight","backgroundImage","backgroundSize","width","padding","alignItems","align","color","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    Redirect,\n    withRouter\n  } from \"react-router-dom\"\nimport { Container, Row, Col } from 'react-bootstrap';\nimport Dashboard from \"./../Dashboard\"\nimport { Button, TextInput, Form, Loading } from 'carbon-components-react';\nimport back from './../../assets/background3.jpg'\nvar data = require('./../sampleLogin.json')\nconst axios = require('axios')\n\n\nclass Login extends React.Component{\n    constructor(){\n        super()\n        this.state = {\n            email: \"\",\n            password:\"\",\n            loading: true,\n            auth:false\n        }\n    }\n\n    componentDidMount(){\n        // console.log(window.location.hostname)\n        // axios.get(`http://${window.location.hostname}:${window.location.port}/showToken`).then(res=>{\n        axios.get(`http://${window.location.hostname}:8080/showToken`).then(res=>{\n            console.log(res.data)\n            const access_token = res.data.access_token\n            if(access_token !== \"expired\" && access_token.length === 40){\n                this.setState({auth:true, loading:false, access_token})\n                // console.log('auth')\n            } else {\n                alert(\"Contact Admin to authorize page\")\n                this.props.history.push('/admin')\n            }\n        }).catch((err)=>{\n            alert(\"Contact Admin to authorize page\")\n            console.log(err)\n            this.props.history.push('/admin')\n        })\n    }\n\n    handleChange = (e) =>{\n        const {name, value} = e.target\n        this.setState({\n            [name]: value\n        })\n    }\n\n    handleClick = (e)=>{\n        e.preventDefault()\n        if(this.state.email === \"\" || this.state.password === \"\"){\n            alert(\"Please enter email and password\")\n            return\n        }\n        if(!this.state.auth){\n            console.log(\"Toast\")\n            // this.Toast()\n            alert(\"Please contact Admin to authorize the page\")\n            return\n        }\n        var found = false\n        var user = {}\n        data.map(item => {\n            if(item.email === this.state.email && item.password === this.state.password){\n                found = true\n                user = item\n            }\n        })\n        if(found){\n            const access_token = this.state.access_token\n            this.props.history.push({\n                pathname:'/dashboard',\n                state:{ user, access_token }\n            })\n        } else {\n            alert(\"Invalid Email or Password\")\n            return\n        }\n        console.log(found, user)\n    }\n\n\n    render(){\n        return(\n            <Container fluid={true} \n                style={{display:\"flex\", \n                    overflow:\"auto\", \n                    clear:\"both\", \n                    justifyContent: \"center\",\n                    minHeight:\"100vh\", \n                    overflow:\"scroll\", \n                    backgroundImage: `url(${back})`, \n                    // backgroundPositionX:\"350px\", \n                    backgroundSize: 'cover', \n                    width:'100%',\n                    padding:'1rem',\n                    alignItems: \"center\"}}>\n                <Row >\n                    {\n                        this.state.loading?\n                        <Loading\n                            style={{align: 'center'}}\n                            description=\"Active loading indicator\" withOverlay={false}\n                        />\n                        :\n                    <Col md={12}>\n                        <div >\n                            <h1 style={{color:\"white\"}}>\n                                <strong>E-Learning Portal using<br/> Watson Media</strong>\n                            </h1>\n                        </div><br/>\n                        <div style={{alignItems: \"center\"}}>\n                            <Form>\n                                <TextInput\n                                    id=\"test2\"\n                                    invalidText=\"A valid value is required\"\n                                    placeholder=\"Email\"\n                                    style={{marginBottom:\"0.5em\"}}\n                                    type=\"email\"\n                                    name=\"email\"\n                                    value= {this.state.email}\n                                    onChange = {this.handleChange}\n                                    invalid={false}\n                                />\n                                <TextInput.PasswordInput \n                                    hidePasswordLabel=\"Hide password\"\n                                    id=\"test\"\n                                    invalidText=\"A valid value is required\"\n                                    placeholder=\"Password\"\n                                    name=\"password\"\n                                    value= {this.state.password}\n                                    onChange = {this.handleChange}\n                                />\n                                <Button\n                                    style={{marginTop:\"1em\"}}\n                                    kind=\"primary\"\n                                    tabIndex={0}\n                                    type=\"submit\"\n                                    onClick={this.handleClick}\n                                >\n                                   Login\n                                </Button>\n                            </Form>\n                            \n                        </div>\n                    </Col>\n                    }\n                </Row>\n            </Container>\n        )\n    }\n}\n\nexport default withRouter(Login)"]},"metadata":{},"sourceType":"module"}